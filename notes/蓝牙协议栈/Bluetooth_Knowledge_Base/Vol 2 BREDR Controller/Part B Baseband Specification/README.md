# Part B: Baseband Specification

**Start Page:** 466

## Table of Contents

- 1 General description (Page 474)
  - 1.1 Bluetooth clock (Page 475)
  - 1.2 Bluetooth Device addressing (Page 476)
    - 1.2.1 Reserved addresses (Page 477)
  - 1.3 Access codes (Page 478)
- 2 Physical channels (Page 479)
  - 2.1 Physical channel definition (Page 480)
  - 2.2 Basic piconet physical channel (Page 480)
    - 2.2.1 Central and Peripheral roles (Page 480)
    - 2.2.2 Hopping characteristics (Page 481)
    - 2.2.3 Time slots (Page 481)
    - 2.2.4 Piconet clocks (Page 482)
    - 2.2.5 Transmit/receive timing (Page 482)
      - 2.2.5.1 Piconet physical channel timing (Page 483)
      - 2.2.5.2 Piconet physical channel re-synchronization (Page 485)
  - 2.3 Adapted piconet physical channel (Page 486)
    - 2.3.1 Hopping characteristics (Page 486)
  - 2.4 Page scan physical channel (Page 486)
    - 2.4.1 Clock estimate for paging (Page 487)
    - 2.4.2 Hopping characteristics (Page 487)
    - 2.4.3 Paging procedure timing (Page 487)
    - 2.4.4 Page response timing (Page 488)
  - 2.5 Inquiry scan physical channel (Page 490)
    - 2.5.1 Clock for inquiry (Page 490)
    - 2.5.2 Hopping characteristics (Page 491)
    - 2.5.3 Inquiry procedure timing (Page 491)
    - 2.5.4 Inquiry response timing (Page 491)
  - 2.6 Hop selection (Page 492)
    - 2.6.1 General selection scheme (Page 493)
    - 2.6.2 Selection kernel (Page 496)
      - 2.6.2.1 First addition operation (Page 497)
      - 2.6.2.2 XOR operation (Page 497)
      - 2.6.2.3 Permutation operation (Page 498)
      - 2.6.2.4 Second addition operation (Page 499)
      - 2.6.2.5 Register bank (Page 499)
    - 2.6.3 Adapted hop selection kernel (Page 500)
      - 2.6.3.1 Channel re-mapping function (Page 500)
    - 2.6.4 Control word (Page 501)
      - 2.6.4.1 Page scan and inquiry scan hopping sequences (Page 503)
      - 2.6.4.2 Page hopping sequence (Page 503)
      - 2.6.4.3 Peripheral page response hopping sequence (Page 503)
      - 2.6.4.4 Central page response hopping sequence (Page 504)
      - 2.6.4.5 Inquiry hopping sequence (Page 504)
      - 2.6.4.6 Inquiry response hopping sequence (Page 505)
      - 2.6.4.7 Basic and adapted channel hopping sequence (Page 505)
      - 2.6.4.8 Synchronization train RF channels (Page 505)
  - 2.7 Synchronization scan physical channel (Page 505)
    - 2.7.1 Hopping characteristics (Page 505)
    - 2.7.2 Synchronization Train procedure timing (Page 506)
    - 2.7.3 Synchronization Scan procedure timing (Page 507)
- 3 Physical links (Page 508)
  - 3.1 Link supervision for active physical links (Page 508)
  - 3.2 Link supervision for Connectionless Peripheral Broadcast physical links (Page 509)
  - 3.3 Authenticated payload timeout for active links (Page 509)
- 4 Logical transports (Page 510)
  - 4.1 General (Page 510)
  - 4.2 Logical transport address (LT_ADDR) (Page 510)
  - 4.3 Synchronous logical transports (Page 511)
  - 4.4 Asynchronous logical transport (Page 511)
  - 4.5 Transmit/receive routines (Page 512)
    - 4.5.1 TX routine (Page 512)
      - 4.5.1.1 ACL traffic (Page 513)
      - 4.5.1.2 SCO traffic (Page 514)
      - 4.5.1.3 Mixed data/voice traffic (Page 514)
      - 4.5.1.4 eSCO traffic (Page 515)
      - 4.5.1.5 Default packet types (Page 515)
    - 4.5.2 RX routine (Page 515)
    - 4.5.3 Flow control (Page 516)
      - 4.5.3.1 Destination control (Page 517)
      - 4.5.3.2 Source control (Page 517)
  - 4.6 Active Peripheral broadcast transport (Page 517)
  - 4.7 [This section is no longer used] (Page 518)
  - 4.8 Connectionless Peripheral Broadcast logical transport (Page 518)
- 5 Logical links (Page 519)
  - 5.1 Link Control logical link (LC) (Page 519)
  - 5.2 ACL Control logical links (ACL-C and APB-C) (Page 519)
  - 5.3 User asynchronous/isochronous logical links (ACL‑U and APB‑U) (Page 520)
    - 5.3.1 Pausing the ACL-U logical link (Page 520)
  - 5.4 User synchronous data logical link (SCO-S) (Page 520)
  - 5.5 User extended synchronous data logical link (eSCO-S) (Page 520)
  - 5.6 Logical link priorities (Page 520)
  - 5.7 Profile broadcast data logical link (Page 521)
- 6 Packets (Page 522)
  - 6.1 General format (Page 522)
    - 6.1.1 Basic Rate (Page 522)
    - 6.1.2 Enhanced Data Rate (Page 522)
  - 6.2 Bit ordering (Page 523)
  - 6.3 Access code (Page 523)
    - 6.3.1 Access code types (Page 523)
    - 6.3.2 Preamble (Page 524)
    - 6.3.3 Sync word (Page 524)
      - 6.3.3.1 Synchronization word definition (Page 524)
      - 6.3.3.2 Pseudo-random noise sequence generation (Page 527)
    - 6.3.4 Trailer (Page 528)
  - 6.4 Packet header (Page 528)
    - 6.4.1 LT_ADDR (Page 529)
    - 6.4.2 TYPE (Page 529)
    - 6.4.3 FLOW (Page 529)
    - 6.4.4 ARQN (Page 529)
    - 6.4.5 SEQN (Page 530)
    - 6.4.6 HEC (Page 530)
  - 6.5 Packet types (Page 530)
    - 6.5.1 Common packet types (Page 533)
      - 6.5.1.1 ID packet (Page 533)
      - 6.5.1.2 NULL packet (Page 533)
      - 6.5.1.3 POLL packet (Page 533)
      - 6.5.1.4 FHS packet (Page 533)
      - 6.5.1.5 DM1 packet (Page 535)
    - 6.5.2 SCO packets (Page 535)
      - 6.5.2.1 HV1 packet (Page 536)
      - 6.5.2.2 HV2 packet (Page 536)
      - 6.5.2.3 HV3 packet (Page 536)
      - 6.5.2.4 DV packet (Page 536)
    - 6.5.3 eSCO packets (Page 536)
      - 6.5.3.1 EV3 packet (Page 537)
      - 6.5.3.2 EV4 packet (Page 537)
      - 6.5.3.3 EV5 packet (Page 537)
      - 6.5.3.4 2-EV3 packet (Page 537)
      - 6.5.3.5 2-EV5 packet (Page 537)
      - 6.5.3.6 3-EV3 packet (Page 538)
      - 6.5.3.7 3-EV5 packet (Page 538)
    - 6.5.4 ACL packets (Page 538)
      - 6.5.4.1 DM1 packet (Page 538)
      - 6.5.4.2 DH1 packet (Page 538)
      - 6.5.4.3 DM3 packet (Page 539)
      - 6.5.4.4 DH3 packet (Page 539)
      - 6.5.4.5 DM5 packet (Page 539)
      - 6.5.4.6 DH5 packet (Page 539)
      - 6.5.4.7 AUX1 packet (Page 539)
      - 6.5.4.8 2-DH1 packet (Page 539)
      - 6.5.4.9 2-DH3 packet (Page 540)
      - 6.5.4.10 2-DH5 packet (Page 540)
      - 6.5.4.11 3-DH1 packet (Page 540)
      - 6.5.4.12 3-DH3 packet (Page 540)
      - 6.5.4.13 3-DH5 packet (Page 540)
  - 6.6 Payload format (Page 540)
    - 6.6.1 Synchronous data field (Page 541)
    - 6.6.2 Asynchronous data field (Page 542)
  - 6.7 Packet summary (Page 546)
- 7 Bit stream processing (Page 548)
  - 7.1 Error checking (Page 549)
    - 7.1.1 HEC generation (Page 550)
    - 7.1.2 CRC generation (Page 551)
  - 7.2 Data whitening (Page 552)
  - 7.3 Error correction (Page 553)
  - 7.4 FEC code: rate 1/3 (Page 554)
  - 7.5 FEC code: rate 2/3 (Page 554)
  - 7.6 ARQ scheme (Page 555)
    - 7.6.1 Unnumbered ARQ (Page 555)
    - 7.6.2 Retransmit filtering (Page 559)
      - 7.6.2.1 Initialization of SEQN at start of new connection (Page 560)
      - 7.6.2.2 ACL and SCO retransmit filtering (Page 560)
      - 7.6.2.3 eSCO retransmit filtering (Page 561)
      - 7.6.2.4 FHS retransmit filtering (Page 561)
      - 7.6.2.5 Extended inquiry response retransmit filtering (Page 561)
      - 7.6.2.6 Packets without CRC retransmit filtering (Page 562)
    - 7.6.3 Flushing payloads (Page 562)
    - 7.6.4 Multi-Peripheral considerations (Page 563)
    - 7.6.5 Active Peripheral Broadcast packets (Page 563)
  - 7.7 Erroneous synchronous data reporting (Page 564)
  - 7.8 Message Integrity Check (Page 564)
- 8 Link Controller operation (Page 565)
  - 8.1 Overview of states (Page 565)
  - 8.2 Standby state (Page 566)
  - 8.3 Connection establishment substates (Page 566)
    - 8.3.1 Page Scan substate (Page 566)
    - 8.3.2 Page substate (Page 568)
    - 8.3.3 Page response substates (Page 570)
      - 8.3.3.1 Peripheral Page Response substate (Page 573)
      - 8.3.3.2 Central Page Response substate (Page 574)
  - 8.4 Device discovery substates (Page 575)
    - 8.4.1 Inquiry Scan substate (Page 576)
    - 8.4.2 Inquiry substate (Page 577)
    - 8.4.3 Inquiry Response substate (Page 578)
  - 8.5 Connection state (Page 580)
  - 8.6 Active mode (Page 581)
    - 8.6.1 Polling in the Active mode (Page 582)
    - 8.6.2 SCO (Page 583)
    - 8.6.3 eSCO (Page 584)
    - 8.6.4 Broadcast scheme (Page 587)
    - 8.6.5 Role switch (Page 587)
    - 8.6.6 Scatternet (Page 589)
      - 8.6.6.1 Inter-piconet communications (Page 590)
    - 8.6.7 Hop sequence switching (Page 591)
    - 8.6.8 Channel classification and channel map selection (Page 594)
    - 8.6.9 Power management (Page 595)
      - 8.6.9.1 Packet handling (Page 595)
      - 8.6.9.2 Slot occupancy (Page 595)
      - 8.6.9.3 Recommendations for low-power operation (Page 595)
      - 8.6.9.4 Enhanced Data Rate (Page 596)
    - 8.6.10 Piconet clock adjustment (Page 596)
      - 8.6.10.1 Coarse clock adjustment (Page 596)
      - 8.6.10.2 Coarse Clock Adjustment Recovery mode (Page 598)
      - 8.6.10.3 Clock Dragging (Page 599)
    - 8.6.11 Slot Availability Mask (SAM) (Page 599)
      - 8.6.11.1 SAM anchor point (Page 603)
      - 8.6.11.2 SAM scheduling (Page 604)
  - 8.7 Sniff mode (Page 606)
    - 8.7.1 Sniff Transition mode (Page 608)
    - 8.7.2 Sniff subrating (Page 608)
      - 8.7.2.1 Sniff mode timeout (Page 609)
      - 8.7.2.2 Sniff Subrating mode (Page 609)
  - 8.8 Hold mode (Page 610)
  - 8.9 [This section is no longer used] (Page 610)
  - 8.10 Connectionless Peripheral Broadcast mode (Page 610)
    - 8.10.1 Connectionless Peripheral Broadcast transmit operation (Page 611)
    - 8.10.2 Connectionless Peripheral Broadcast receive operation (Page 612)
    - 8.10.3 AFH in Connectionless Peripheral Broadcast (Page 613)
  - 8.11 Synchronization establishment substates (Page 613)
    - 8.11.1 Synchronization Scan substate (Page 613)
    - 8.11.2 Synchronization Train substate (Page 613)
- 9 Audio (Page 617)
  - 9.1 LOG PCM codec (Page 617)
  - 9.2 CVSD codec (Page 617)
  - 9.3 Error handling (Page 620)
  - 9.4 General audio requirements (Page 620)
    - 9.4.1 Signal levels (Page 620)
    - 9.4.2 CVSD audio quality (Page 620)
- Appendix A  General audio recommendations (Page 621)
  - A.1 Maximum sound pressure (Page 621)
  - A.2 [This section is no longer used] (Page 621)
  - A.3 Audio levels for Bluetooth (Page 621)
  - A.4 Microphone path (Page 622)
  - A.5 Loudspeaker path (Page 622)
  - A.6 Bluetooth voice interface (Page 622)
  - A.7 Frequency mask (Page 623)
- Appendix B  Timers (Page 625)
  - B.1 List of timers (Page 625)
    - B.1.1 inquiryTO (Page 625)
    - B.1.2 pageTO (Page 625)
    - B.1.3 extended_pageTO (Page 625)
    - B.1.4 pagerespTO (Page 625)
    - B.1.5 newconnectionTO (Page 625)
    - B.1.6 supervisionTO (Page 626)
    - B.1.7 CPB_supervisionTO (Page 626)
    - B.1.8 synchronization_trainTO (Page 626)
    - B.1.9 synchronization_scanTO (Page 626)
    - B.1.10 authenticatedPayloadTO (Page 627)
    - B.1.11 CLK_adj_dragTO (Page 627)
- Appendix C  Recommendations for AFH operation in Hold, Sniff, and Connectionless Peripheral Broadcast modes (Page 628)
  - C.1 Operation at the Central (Page 628)
  - C.2 [This section is no longer used] (Page 629)
  - C.3 AFH operation in Sniff mode (Page 629)
  - C.4 AFH operation in Hold mode (Page 629)
  - C.5 AFH operation in Connectionless Peripheral Broadcast (Page 629)
