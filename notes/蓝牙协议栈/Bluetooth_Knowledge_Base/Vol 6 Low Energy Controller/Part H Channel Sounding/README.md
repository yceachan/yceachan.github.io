# Part H: Channel Sounding

**Start Page:** 3780

## Table of Contents

- 1 Channel Sounding physical channels (Page 3784)
- 2 Packet formats for Channel Sounding (Page 3785)
  - 2.1 Preamble (Page 3785)
  - 2.2 Channel Sounding Access Address (Page 3786)
    - 2.2.1 Channel Sounding Access Address selection rules (Page 3787)
    - 2.2.2 Channel Sounding Access Address checking (Page 3787)
  - 2.3 Trailer (Page 3788)
  - 2.4 Sounding sequence (Page 3788)
  - 2.5 Random sequence (Page 3789)
  - 2.6 Channel Sounding extended packet formats (Page 3790)
- 3 Channel Sounding bit stream processing (Page 3792)
  - 3.1 Measuring RTT (Page 3792)
    - 3.1.1 Reference receiver for round-trip time measurements (Page 3793)
    - 3.1.2 ToD and ToA reporting accuracy (Page 3794)
  - 3.2 Timing estimate based on an Access Address (Page 3795)
    - 3.2.1 Timestamps using a native clock (Page 3795)
    - 3.2.2 Timing estimate based on a pseudo-noise bit sequence (Page 3796)
  - 3.3 Fractional timing estimate based on a sounding sequence (Page 3796)
    - 3.3.1 Phase-based PCT estimate based on a sounding sequence (Page 3797)
      - 3.3.1.1 Reference receiver for phase-based ranging from a sounding sequence (Page 3800)
      - 3.3.1.2 Accuracy requirements (Page 3800)
  - 3.4 Fractional timing estimate based on a random sequence (Page 3802)
  - 3.5 Attack detection requirements (Page 3802)
    - 3.5.1 Normalized attack detector metric (Page 3802)
    - 3.5.2 Reference signal modulated with h=0.5 GFSK (Page 3804)
    - 3.5.3 Early commit attacks with phase based detection (Page 3805)
      - 3.5.3.1 Sounding sequence attack signal definition (Page 3805)
      - 3.5.3.2 Random sequence attack signal definition (Page 3808)
      - 3.5.3.3 Raw attack detector metric based on a sounding sequence or a random sequence (Page 3809)
        - 3.5.3.3.1 Raw attack detector metric based on normalized cross correlation (Page 3810)
        - 3.5.3.3.2 Raw attack detector metric based on phase minimum square error (Page 3811)
      - 3.5.3.4 Phase-based attack detection requirements for RTT with sounding sequence and random sequence packets (Page 3811)
    - 3.5.4 Amplitude-based attacks with DFT detection (Page 3813)
      - 3.5.4.1 Amplitude-based attack signal definition (Page 3813)
        - 3.5.4.1.1 Square wave attack pattern (Page 3814)
      - 3.5.4.2 Raw attack detector metric based on a DFT (Page 3815)
      - 3.5.4.3 Amplitude-based attack detection requirements for RTT with sounding sequence and random sequence (Page 3817)
        - 3.5.4.3.1 Determining the effectiveness of an attack point of interest (Page 3817)
        - 3.5.4.3.2 Parameterized requirements (Page 3818)
        - 3.5.4.3.3 Characterization requirements (Page 3819)
        - 3.5.4.3.4 Detection requirements (Page 3823)
- 4 Channel Sounding interface protocol (Page 3825)
  - 4.1 Channel selection Algorithm #3 (Page 3825)
    - 4.1.1 Conventions (Page 3825)
    - 4.1.2 Channel index shuffling function cr1 (Page 3825)
    - 4.1.3 Channel selection Algorithm #3a for mode‑0 steps (Page 3826)
    - 4.1.4 Channel index selection for non-mode‑0 steps (Page 3827)
      - 4.1.4.1 Channel Selection Algorithm #3b (Page 3827)
      - 4.1.4.2 Channel Selection Algorithm #3c (Page 3827)
        - 4.1.4.2.1 Inputs and basic components (Page 3828)
        - 4.1.4.2.2 Shape generation (Page 3829)
        - 4.1.4.2.3 Salt generation (Page 3831)
        - 4.1.4.2.4 Shape and salt channel mixing (Page 3834)
        - 4.1.4.2.5 Filtering and shuffling (Page 3836)
  - 4.2 Channel Sounding channel indices (Page 3838)
  - 4.3 Channel Sounding steps (Page 3839)
    - 4.3.1 Channel Sounding step mode-0 (Page 3840)
    - 4.3.2 Channel Sounding step mode-1 (Page 3842)
    - 4.3.3 Channel Sounding step mode-2 (Page 3843)
    - 4.3.4 Channel Sounding step mode-3 (Page 3845)
  - 4.4 Channel Sounding subevent and mode sequencing (Page 3848)
    - 4.4.1 Tone extension slots (Page 3848)
    - 4.4.2 CS subevent structure (Page 3850)
    - 4.4.3 Sub_Mode insertion (Page 3851)
    - 4.4.4 Main_mode repetition (Page 3851)
    - 4.4.5 Channel Sounding procedure and procedure repeat desynchronization (Page 3852)
  - 4.5 Timing of steps (Page 3853)
  - 4.6 Phase measurements during T_PM (Page 3854)
  - 4.7 Phase measurements with antenna switching (Page 3856)
    - 4.7.1 Antenna switching in the 1:1 configuration (Page 3856)
    - 4.7.2 Antenna switching in the N_AP:1 configuration (Page 3856)
    - 4.7.3 Antenna switching in the 1:N_AP configuration (Page 3858)
    - 4.7.4 Antenna switching in the 2:2 (N_AP = 4) configuration (Page 3859)
    - 4.7.5 Antenna path permutations (Page 3861)
  - 4.8 Channel Sounding random bit generation (Page 3863)
    - 4.8.1 Channel Sounding random number generation function hr1 (Page 3865)
