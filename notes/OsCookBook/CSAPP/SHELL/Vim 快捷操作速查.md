# Vim 快捷操作速查表

按**模式分类**整理，聚焦**开发高频操作**，兼顾基础入门和高效进阶，适配嵌入式/后端等开发场景，速查即用，核心操作标粗突出。

## 一、核心模式切换（Vim 基础）

Vim 核心为模式化操作，默认打开为**普通模式（Normal）**，所有操作基于模式切换展开：

|   |   |   |
|---|---|---|
|操作|说明|适用场景|
|**i**|光标**前**进入插入模式|常规插入代码/文本|
|**a**|光标**后**进入插入模式|光标在字符末尾时快速追加|
|**I**|光标跳至**行首**并进入插入模式|行首加注释、定义变量|
|**A**|光标跳至**行尾**并进入插入模式|行尾加分号、逗号、注释|
|**o**|光标**下**新建一行并进入插入模式|向下换行写代码，最常用|
|**O**|光标**上**新建一行并进入插入模式|向上补全代码/注释|
|**s**|删除光标所在字符并进入插入模式|替换单个字符|
|**S**|删除光标所在行并进入插入模式|重写整行代码|
|**Esc**|从**插入/可视/命令行**切回普通模式|万能退出，核心快捷键|
|**Ctrl+C**|替代 Esc，切回普通模式|键盘无 Esc 或手位更舒适时|

## 二、基础操作（保存/退出/撤销，必背）

均在**普通模式**执行，`:xxx` 为进入**命令行模式**的操作，开发中高频使用：

|   |   |   |
|---|---|---|
|操作|说明|备注|
|**:w**|保存文件|write 缩写|
|**:q**|退出 Vim|quit 缩写，未修改时可用|
|**:wq**|保存并退出|等价 **:x**，更推荐:x（未修改时不更新文件时间）|
|**:q!**|强制退出，**放弃所有修改**|改错代码时快速退出，慎用|
|**:w [文件名]**|另存为指定文件|保留原文件，新建副本|
|**:wa**|保存**所有打开的文件**|分屏/多文件编辑时用|
|**:qa**|退出**所有打开的窗口**|多窗口编辑时批量退出|
|**u**|撤销上一步操作|undo 缩写，逐行/逐操作撤销|
|**Ctrl+r**|重做上一步撤销的操作|redo 缩写，恢复误撤销|
|**U**|撤销**当前行**的所有修改|整行改错时快速回滚|
|**.**|重复**上一次的编辑操作**|Vim 高效核心！比如删行/复制后重复执行|

## 三、普通模式 - 高效移动（Vim 提速关键）

无需鼠标，纯键盘移动光标，分**基础移动、行内移动、行间跳转、翻页**，熟记后远超鼠标效率：

### 3.1 基础方向移动（替代方向键，手位不离开主键区）

|   |   |   |
|---|---|---|
|操作|说明|对应方向键|
|**h**|光标左移一位|←|
|**j**|光标下移一行|↓|
|**k**|光标上移一行|↑|
|**l**|光标右移一位|→|

### 3.2 行内精准移动

|   |   |   |
|---|---|---|
|操作|说明|开发场景|
|**0**|光标跳至**行首（包含空格/制表符）**|快速定位行开头|
|**^**|光标跳至**行首第一个非空字符**|代码行首（忽略缩进），最常用|
|**$**|光标跳至**行尾**|行尾加符号/注释|
|**g_**|光标跳至**行尾最后一个非空字符**|删行尾空格/修改最后一个字符|
|**f[字符]**|光标跳至**当前行下一个指定字符**|快速跳至括号/等号/分号，如 `f(` `f=`|
|**F[字符]**|光标跳至**当前行上一个指定字符**|反向查找指定字符|
|**t[字符]**|光标跳至**指定字符前一位**|精准定位字符前，如 `t)` 跳至括号前|
|**T[字符]**|光标跳至**指定字符后一位**|反向精准定位|

### 3.3 行间/全局快速跳转

|   |   |   |
|---|---|---|
|操作|说明|开发场景|
|**gg**|跳至**文件第一行**|快速定位文件开头|
|**G**|跳至**文件最后一行**|快速定位文件末尾|
|**[数字]G**|跳至**指定行**|如 `50G` 跳至第50行，报错定位行号|
|**:[数字]**|等价 [数字]G，跳至指定行|命令行模式，部分人更习惯|
|**Ctrl+o**|跳回**上一个光标位置**|跳转后返回原代码行，超实用|
|**Ctrl+i**|跳至**下一个光标位置**|配合 Ctrl+o 来回切换|

### 3.4 翻页/屏幕居中

|   |   |   |
|---|---|---|
|操作|说明|适用场景|
|**Ctrl+f**|向下**翻一整屏**|forward，快速浏览文件|
|**Ctrl+b**|向上**翻一整屏**|backward|
|**Ctrl+d**|向下**翻半屏**|浏览代码时缓慢翻页|
|**Ctrl+u**|向上**翻半屏**|浏览代码时缓慢翻页|
|**zz**|光标所在行**居中显示**|聚焦当前编辑行，看上下文|
|**zt**|光标所在行**置顶显示**|看当前行以下的代码|
|**zb**|光标所在行**置底显示**|看当前行以上的代码|

### 3.5 按单词/符号移动

|   |   |   |
|---|---|---|
|操作|说明|备注|
|**w**|跳至**下一个单词首字母**|以空格/标点为分隔|
|**W**|跳至**下一个长单词首字母**|仅以空格为分隔（忽略标点）|
|**e**|跳至**当前单词尾字母**|以空格/标点为分隔|
|**E**|跳至**当前长单词尾字母**|仅以空格为分隔|
|**b**|跳回**上一个单词首字母**|以空格/标点为分隔|
|**B**|跳回**上一个长单词首字母**|仅以空格为分隔|
|**%**|光标在`()/[]/{}`时，跳至**匹配的符号**|代码括号匹配，开发必背|

## 四、普通模式 - 增删改查（核心编辑）

结合**移动操作**可实现「精准编辑」，格式为`操作+移动`（如`d$`删除至行尾），高效替代鼠标拖选：

### 4.1 删除（Delete，缩写 d）

|   |   |   |
|---|---|---|
|操作|说明|进阶组合|
|**x**|删除**光标所在字符**|等价 Delete 键|
|**X**|删除**光标前一个字符**|等价 Backspace 键|
|**dd**|删除**光标所在整行**|删代码行最常用，可加数字：`3dd`删3行|
|**D**|删除**从光标到行尾**的所有内容|等价 `d$`|
|**d^**|删除**从光标到行首**的所有内容|保留行首缩进时用|
|**d[移动]**|按移动范围删除|如`dw`删一个单词、`d(`删至括号前|

### 4.2 复制/粘贴（Yank/Paste，缩写 y/p）

Vim 复制为「拉取（yank）」，粘贴分「光标后/前」，支持**多行复制**：

|   |   |   |
|---|---|---|
|操作|说明|进阶组合|
|**yy**|复制**光标所在整行**|最常用，可加数字：`5yy`复制5行|
|**Y**|等价 yy，复制整行|部分人更习惯|
|**y[移动]**|按移动范围复制|如`y$`复制至行尾、`yw`复制一个单词|
|**p**|粘贴至**光标下一行（整行）**/**光标后（字符）**|最常用，复制后直接贴|
|**P**|粘贴至**光标上一行（整行）**/**光标前（字符）**|反向粘贴|
|**"+y**|复制至**系统剪贴板**|跨Vim/其他软件复制，必背|
|**"+p**|从**系统剪贴板**粘贴|跨软件粘贴，如把浏览器代码贴到Vim|

### 4.3 替换/修改（Replace/Change，缩写 r/c）

|   |   |   |
|---|---|---|
|操作|说明|开发场景|
|**r[字符]**|替换**光标所在字符**为指定字符|单个字符修改，无需进插入模式|
|**R**|进入**连续替换模式**|多个字符连续替换，Esc 退出|
|**cc**|删除整行并进入插入模式|等价 S，重写整行代码|
|**C**|删除从光标到行尾并进入插入模式|等价 `c$`，行尾追加修改|
|**c[移动]**|按移动范围删除并进入插入模式|如`cw`删一个单词并插入新内容|

## 五、可视模式（Visual）- 选中文本操作

普通模式下按以下键进入**可视模式**，支持**字符/行/块**选择，选中文本后可执行删/复制/缩进：

|   |   |   |
|---|---|---|
|模式进入|说明|选中文本后常用操作|
|**v**|字符可视模式（逐字符选择）|y=复制，d=删除，> =右缩进，< =左缩进|
|**V**|行可视模式（整行选择）|最常用，批量删/复制/缩进代码行|
|**Ctrl+v**|块可视模式（列选择）|**开发核心**：批量注释、批量修改列|

### 可视模式高频场景：批量注释代码（以//为例）

1. `Ctrl+v` 进入块可视模式，用`j/k`选中需要注释的代码行首；
    
2. 按**I**（大写）进入块插入模式，输入`//`；
    
3. 按**Esc**，所有选中行自动添加//注释（批量取消同理：选中//后按d删除）。
    

## 六、查找与替换（开发高频）

### 6.1 快速查找（普通模式）

|   |   |   |
|---|---|---|
|操作|说明|备注|
|**/[关键词]**|从光标处**向下**查找指定关键词|如`/main`查找main函数|
|**?[关键词]**|从光标处**向上**查找指定关键词|反向查找|
|**n**|跳至**下一个**匹配结果|配合/？使用|
|**N**|跳至**上一个**匹配结果|反向跳转|
|***|查找**光标所在单词**的下一个匹配|快速查找变量/函数名|
|**#**|查找**光标所在单词**的上一个匹配|反向查找变量/函数名|
|**:noh**|取消查找结果的**高亮显示**|查找后屏幕高亮，必用取消|

### 6.2 全局替换（命令行模式，核心：%s/旧/新/标记）

**格式**：`[范围]s/旧内容/新内容/[标记]`，支持**精准替换、批量替换、确认替换**，开发中改变量名/注释超常用：

|   |   |   |
|---|---|---|
|操作|说明|标记说明|
|**:%s/old/new/g**|**全局替换**：文件中所有old换为new|g=global（全局），必加|
|**:%s/old/new/gc**|全局替换，**每次替换前确认**|c=confirm（确认），避免误替换|
|**:1,10s/old/new/g**|替换**第1-10行**的old为new|指定行范围，如`5,$s/`替换5行到文末|
|**:s/old/new/**|仅替换**当前行**第一个old为new|不加g，只替换首个匹配|
|**:s/old/new/g**|仅替换**当前行**所有old为new|行内全局替换|

**示例**：将文件中所有`int`换为`uint8_t`并逐行确认：`:%s/int/uint8_t/gc`

## 七、窗口分屏操作（多文件/多代码块编辑）

命令行模式执行，适合同时看**头文件+源文件**、**代码+日志**，嵌入式开发高频使用：

|   |   |   |
|---|---|---|
|操作|说明|窗口切换/调整|
|**:sp [文件名]**|水平分屏，打开指定文件（缺省为当前文件）|split 缩写|
|**:vsp [文件名]**|垂直分屏，打开指定文件（缺省为当前文件）|vsplit 缩写，开发更常用（左右分屏）|
|**Ctrl+w h/j/k/l**|分屏窗口间切换（左/下/上/右）|核心切换，手位舒适|
|**Ctrl+w w**|循环切换所有分屏窗口|快速切换，无需记方向|
|**Ctrl+w q**|关闭当前分屏窗口|等价:q，关闭单个窗口|
|**Ctrl+w +**|放大当前窗口（垂直方向）|调整窗口大小|
|**Ctrl+w -**|缩小当前窗口（垂直方向）|调整窗口大小|
|**Ctrl+w >**|放大当前窗口（水平方向）|调整窗口大小|
|**Ctrl+w <**|缩小当前窗口（水平方向）|调整窗口大小|

## 八、代码开发专属进阶操作（嵌入式/后端必备）

|   |   |   |
|---|---|---|
|操作|说明|场景|
|**==**|自动缩进**当前行**代码|代码格式错乱时快速修正|
|**gg=G**|自动缩进**整个文件**代码|粘贴代码后统一格式，必背|
|**[{**|光标跳至**当前代码块的开头**|如函数/循环的{前，匹配代码块|
|**]}**|光标跳至**当前代码块的结尾**|如函数/循环的}后，匹配代码块|
|**gd**|跳至**光标所在变量/函数的定义处**|代码跳转，替代IDE的跳转功能|
|**zc**|折叠**当前代码块**|折叠大函数/大循环，看整体结构|
|**zo**|展开**当前折叠的代码块**|展开查看细节|
|**zM**|折叠**文件中所有代码块**|全局折叠，快速浏览文件结构|
|**zR**|展开**文件中所有折叠的代码块**|全局展开，恢复正常编辑|
|**:set nu**|显示**行号**|开发必开，报错定位行号|
|**:set nonu**|隐藏行号|无需行号时关闭|
|**:set ai**|开启**自动缩进**|写代码时自动对齐，贴合开发习惯|

## 九、常用配置快速开启（命令行模式）

开发中临时开启，无需修改vim配置文件，关闭Vim后失效，适合临时编辑：

```Plain
:set nu          " 显示行号
:set ai          " 自动缩进
:set si          " 智能缩进（配合ai，代码更规范）
:set ts=4        " 制表符（Tab）设为4个空格
:set expandtab   " 将Tab自动转换为空格（嵌入式开发推荐）
:set wrap        " 自动换行（长代码行不超出屏幕）
```

### 永久生效：将上述配置写入~/.vimrc文件

```Bash
echo -e "set nu\nset ai\nset si\nset ts=4\nset expandtab\nset wrap" >> ~/.vimrc
source ~/.vimrc  # 立即生效
```

我可以帮你整理一份**嵌入式开发专属Vim配置文件（.vimrc）**，包含代码高亮、括号匹配、快捷注释等定制化配置，直接复制可用，需要吗？