

> 此标题下我会准备面试中可能遇到的技术问题，此外，针对此岗位的任职需求和公司业务补充若干可能会被问到的技术问题

- ###### **mqtt协议与tcp协议的核心概念和差异对比？**

  ![image-20251224200903960](https://ali-oss-yceachan.oss-cn-chengdu.aliyuncs.com/img-bed-typora/image-20251224200903960.png)

- ###### **如果需要你接触一款全新的MCU产品，你会如何着手，最终得以在keil或cmake工具链的开发环境下进行应用层的代码开发？**

  ![image-20251224201035777](https://ali-oss-yceachan.oss-cn-chengdu.aliyuncs.com/img-bed-typora/image-20251224201035777.png)

- **在项目中提及使用滤波算法，所部署的滤波算法是什么（巴特沃斯一阶低通滤波器），为何不适用如卡尔曼滤波等高级算法**

  业务需求时从传感器信号中滤除高频噪声，用巴特沃斯作为最平坦通带特性滤波器已足够简洁和有效。卡尔曼滤波器实现和调试更复杂

- **介绍freeRTOS的机制和作用**

  freeRTOS 能提供多任务的并发和复杂调度控制

  - 首先提供一系列任务管理api，每个任务能够维护自己的栈空间，然后拥有运行，就绪，阻塞，挂起 四个状态
  - 提供系统计时器
  - 基于优先级抢占式、时间片的任务调度
  - IPC 任务间通信组件：
    - 队列 ：完成生产者-消费则的业务模型的首选，适合在ISR和任务间安全传递数据
    - 信号量：二值量、计数量：二值量适合ISR和APP的等候同步
    - 互斥量：**保护对共享资源的访问**

- **讲解freeRTOS任务与Linux进程的差异**

  1.设计目标

  根本区别源于它们的设计目标：FreeRTOS为嵌入式系统的实时性、可预测性和确定性而生；而Linux为通用计算的公平性、高吞吐量 和交互性而生。

  freeRTOS为静态优先级，目的是永远保证优先级最高且就绪的任务第一时间运行。
  2.调度算法
  Linux默认有 一个的完全公平调度器（CFS），旨在为每个进程分配“公平”的CPU时间片，保证综合系统性能和响应迅速的用户体验，也有复杂的动态优先级来比如保证IO交互进程。


  3.执行单元

  * FreeRTOS (共享地址空间中的任务):
    * 单元： 执行的基本单位是任务（Task），也常称为线程（Thread）。
    * 内存：
      所有任务都运行在同一个内存地址空间中。

  * Linux (受保护地址空间中的进程):
    * 单元： 执行的基本单位是进程（Process）。一个进程可以包含一个或多个线程。
    * 内存：
      每个进程都有自己独立的虚拟地址空间，由CPU的内存管理单元（MMU）进行管理。内核强制实施严格的内存保护。

- **iic上拉电阻的作用：**

  IIC总线上的设备采用开漏输出，所有设备仅能强下拉总线输出0，或者释放总线，从而使外部电阻弱上拉总线输出1

     * 允许多主/从设备：
       考虑总线的值，只有全被设备都释放总线，SDA总线值为1，否则任意设备拉低总线，SDA均为0，这是一种线与逻辑，允许多个设备（主设备和从设备）共享相同的总线线路。

- **iic和uart的异同对比**

  相同点 ：都是串行单比特传输

  差异：

  - uart 异步，波特率 iic 同步SCL时钟，SDA数据需要在SCL时钟
  - uart全双工，rx tx数据相互独立传输
  - iic半双工，通信严格由主机发起，同一时间仅能由

- **IIC的常用时钟：**

  IIC没有严格的时钟规定，视通信设备的性能，只需要SDA数据能够与时钟对齐即可，具体时钟需求应该参考器件手册的规范。软IIC，20K到400K都是可考虑的范围。我以前用过STM32F4 的DWT外设，这是一个内核的计时器，在简单的寄存器配置下即可实现微妙级的软延时，实现一个200K速率的软件IIC库。